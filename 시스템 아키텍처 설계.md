# 시스템 아키텍처 설계

## 1. 개요
본 네이버 블로그 자동화 시스템은 사용자가 설정한 주제와 어투에 따라 자동으로 블로그 게시물을 생성하고, 생성된 게시물(텍스트 및 이미지 포함)을 네이버 블로그에 5분 간격으로 자동 업로드하는 웹 애플리케이션입니다. 시스템은 크게 프론트엔드, 백엔드, 콘텐츠 생성 모듈, 웹 자동화 모듈, 그리고 스케줄링 모듈로 구성됩니다.

## 2. 주요 구성 요소

### 2.1. 프론트엔드 (Web Interface)
사용자가 시스템을 제어하고 상태를 확인할 수 있는 웹 기반 인터페이스를 제공합니다. 주요 기능은 다음과 같습니다:
*   **대시보드:** 현재 자동화 상태, 다음 게시물 업로드 시간, 최근 게시물 목록 등을 한눈에 볼 수 있는 화면.
*   **설정:** 블로그 계정 연동, 게시물 주제 설정, 글쓰기 어투 선택 (친근체, 전문체, 유머체 등), 이미지 삽입 여부 및 스타일 설정, 게시물 업로드 간격 설정 (5분).
*   **게시물 관리:** 생성 및 업로드된 게시물 목록 확인, 미리보기, 수동 업로드, 삭제 등의 기능.
*   **로그:** 시스템 동작 로그 및 오류 로그 확인.

### 2.2. 백엔드 (API Server)
프론트엔드와 웹 자동화 모듈, 콘텐츠 생성 모듈 간의 통신을 중개하고, 비즈니스 로직을 처리하는 핵심 서버입니다. Flask 또는 FastAPI와 같은 Python 웹 프레임워크를 사용하여 개발될 예정입니다. 주요 역할은 다음과 같습니다:
*   **인증 및 권한 관리:** 사용자 로그인 및 블로그 계정 연동 관리.
*   **설정 관리:** 프론트엔드에서 설정된 사용자별 자동화 설정을 저장하고 관리.
*   **게시물 데이터 관리:** 생성된 게시물 텍스트, 이미지 URL, 업로드 상태 등을 데이터베이스에 저장.
*   **스케줄링 제어:** 스케줄링 모듈에 게시물 생성 및 업로드 작업을 지시.
*   **콘텐츠 생성 요청:** 콘텐츠 생성 모듈에 텍스트 및 이미지 생성을 요청하고 결과를 수신.
*   **웹 자동화 요청:** 웹 자동화 모듈에 네이버 블로그 게시물 업로드를 요청하고 결과를 수신.

### 2.3. 콘텐츠 생성 모듈 (Content Generation Module)
사용자가 설정한 주제와 어투에 맞춰 블로그 게시물 텍스트와 이미지를 생성하는 역할을 담당합니다. LLM (Large Language Model)과 이미지 생성 모델을 활용합니다. 이 모듈은 별도의 서비스로 분리되거나 백엔드 서버 내에서 라이브러리 형태로 통합될 수 있습니다. 주요 기능은 다음과 같습니다:
*   **텍스트 생성:** LLM을 활용하여 정보 제공 및 인사이트를 제시하는 블로그 게시물 텍스트를 생성합니다. 이때, 사용자가 선택한 어투를 반영하고, 적절한 글자 수와 구조를 갖추도록 프롬프트 엔지니어링을 적용합니다.
*   **이미지 생성:** 생성된 텍스트 내용과 관련된 이미지를 생성합니다. 텍스트의 핵심 키워드를 기반으로 이미지 생성 모델에 프롬프트를 전달하고, 생성된 이미지를 저장합니다.

### 2.4. 웹 자동화 모듈 (Web Automation Module)
네이버 블로그에 로그인하고 게시물을 작성, 업로드하는 실제 웹 브라우저 자동화 작업을 수행합니다. Playwright 라이브러리를 사용하여 개발될 예정입니다. 주요 기능은 다음과 같습니다:
*   **네이버 로그인:** 사용자 계정 정보를 이용하여 네이버 블로그에 로그인.
*   **게시물 작성 페이지 이동:** 블로그 글쓰기 페이지로 이동.
*   **텍스트 및 이미지 삽입:** 생성된 텍스트와 이미지를 게시물 에디터에 삽입.
*   **게시물 발행:** 작성된 게시물을 블로그에 발행.
*   **오류 처리:** 웹 자동화 과정에서 발생할 수 있는 오류(로그인 실패, 페이지 로딩 오류 등)를 처리하고 백엔드에 보고.

### 2.5. 스케줄링 모듈 (Scheduling Module)
게시물 생성 및 업로드 작업을 5분 간격으로 주기적으로 실행하도록 관리합니다. APScheduler와 같은 Python 스케줄링 라이브러리를 활용할 수 있습니다. 주요 기능은 다음과 같습니다:
*   **작업 예약:** 백엔드로부터 게시물 생성 및 업로드 작업을 5분 간격으로 예약.
*   **작업 실행:** 예약된 시간에 맞춰 백엔드에 작업 실행을 요청.
*   **작업 상태 모니터링:** 작업의 성공/실패 여부를 모니터링하고 백엔드에 보고.

## 3. 데이터 흐름
1.  **사용자 설정:** 사용자가 프론트엔드를 통해 블로그 계정, 주제, 어투, 이미지 설정, 업로드 간격 등을 설정하고 백엔드에 저장합니다.
2.  **스케줄링:** 스케줄링 모듈이 5분 간격으로 백엔드에 게시물 생성 및 업로드 작업을 요청합니다.
3.  **콘텐츠 생성 요청:** 백엔드는 콘텐츠 생성 모듈에 주제와 어투를 전달하여 텍스트 및 이미지 생성을 요청합니다.
4.  **콘텐츠 생성 및 반환:** 콘텐츠 생성 모듈은 LLM과 이미지 생성 모델을 사용하여 텍스트와 이미지를 생성하고, 생성된 콘텐츠를 백엔드에 반환합니다.
5.  **게시물 데이터 저장:** 백엔드는 생성된 텍스트와 이미지 URL을 데이터베이스에 저장합니다.
6.  **웹 자동화 요청:** 백엔드는 웹 자동화 모듈에 저장된 게시물 데이터를 전달하여 네이버 블로그에 게시물 업로드를 요청합니다.
7.  **게시물 업로드:** 웹 자동화 모듈은 Playwright를 사용하여 네이버 블로그에 로그인하고 게시물을 작성, 발행합니다.
8.  **결과 보고:** 웹 자동화 모듈은 업로드 결과를 백엔드에 보고하고, 백엔드는 이를 데이터베이스에 업데이트하며 프론트엔드에 상태를 전달합니다.

## 4. 기술 스택 (예상)
*   **프론트엔드:** React, Next.js (또는 유사 프레임워크)
*   **백엔드:** Python (Flask/FastAPI)
*   **콘텐츠 생성:** Google Gemini API (LLM), DALL-E 3 또는 Stable Diffusion (이미지 생성)
*   **웹 자동화:** Playwright (Python)
*   **데이터베이스:** SQLite (간단한 프로젝트의 경우), PostgreSQL (확장성을 고려할 경우)
*   **스케줄링:** APScheduler

## 5. 향후 고려사항
*   **네이버 로그인 방식:** 네이버 로그인은 보안상 자동화가 어려울 수 있으므로, 사용자에게 직접 로그인하도록 안내하거나, 로그인 상태 유지를 위한 방법을 강구해야 합니다.
*   **게시물 발행 실패 처리:** 네트워크 오류, 네이버 블로그 시스템 변경 등으로 인한 발행 실패 시 재시도 로직 및 알림 기능 구현이 필요합니다.
*   **콘텐츠 품질 관리:** 생성된 콘텐츠의 품질을 주기적으로 검토하고, 사용자 피드백을 반영하여 LLM 프롬프트 및 이미지 생성 프롬프트를 개선해야 합니다.
*   **확장성:** 향후 여러 블로그 플랫폼 지원, 다양한 콘텐츠 형식 지원 등을 고려한 아키텍처 설계가 필요합니다.

